"use strict";$(function(){if($("html.desktop").length){!function(e){$(e).on("scroll resize",function(){var t=$(e).width(),o=$(e).height()>530?$(e).height():530;$("body").width(t),$("body").height(o),$(".home").width(t)}).trigger("resize")}(window),$(".text-muted a").on("click",function(){return TweenMax.to($(".dragon"),.3,{left:60,onComplete:function(){$(window).trigger("mousewheel")}}),!1}),$(window).on("mousewheel",function(e){var t=1,o=$(".dragon"),n=$(".page.home").width()+$(".page.rule").width()+$(".page.house").width()*$(".page.house").length,a=$(window).width()-n,r=$(".dragon").width();if(n>r&&$(".dragon").width(n),e.deltaY<0&&(t=-1),+o.css("left").replace(/px/,"")>=0&&1===t)return TweenMax.to(o,.25,{left:0}),!1;if(+o.css("left").replace(/px/,"")<=a&&-1===t)return TweenMax.to(o,.25,{left:a+"px"}),!1;var i=12e3/$(window).width(),d=+$(".cross").attr("data-zfact"),l=+$(".road").attr("data-zfact");return TweenMax.to(o,.3,{left:"+="+e.deltaY*i+"%"}),TweenMax.to($(".cross"),.3,{left:"+="+e.deltaY*i/d+"%"}),TweenMax.to($(".road"),.3,{left:"+="+e.deltaY*i/l+"%"}),!1});var e,t,o,n=(new Draggabilly(".dragon",{axis:"x"}).on("dragStart",function(t){e=t.clientX}).on("dragEnd",function(n){t=n.clientX;var a=e-t,r=$(".dragon");try{o.kill()}catch(n){}o=TweenMax.to(r,1,{left:"-="+a/2,onComplete:function(){$(window).trigger("mousewheel")}})}),$("#tpl").clone().removeAttr("id")),a=$(".dragon"),r=["house-home","house-happiness","house-equality","house-plurality"];n.removeClass(r[0]);for(var i=0;200>i;i++){var d=Math.floor(Math.random()*+new Date%r.length),l=r[d],h=document.createElement("section");h=$(h).addClass("page house");var s=n.clone();$(".number",s).html(i+1),s.addClass(l),h.append(s),h.appendTo(a)}}});