"use strict";$(function(){if($("html.desktop").length){!function(e){$(e).on("scroll resize",function(){var t=$(e).width(),o=$(e).height()>530?$(e).height():530;$("body").width(t),$("body").height(o),$(".home").width(t)}).trigger("resize")}(window),$(".text-muted a").on("click",function(){return TweenMax.to($(".dragon"),.3,{left:60,onComplete:function(){$(window).trigger("mousewheel")}}),!1}),$(window).on("mousewheel",function(e){var t=0,o=$(".dragon"),a=$(".page.home").width()+$(".page.rule").width()+$(".page.house").width()*$(".page.house").length,n=$(window).width()-a,r=$(".dragon").width();if(a>r&&$(".dragon").width(a),e.deltaY<0?t=-1:e.deltaY>0&&(t=1),+o.css("left").replace(/px/,"")>=0&&t>=0)return TweenMax.to(o,.25,{left:0}),!1;if(+o.css("left").replace(/px/,"")<=n&&0>=t)return TweenMax.to(o,.25,{left:n+"px"}),!1;var d=12e3/$(window).width(),i=+$(".cross").attr("data-zfact"),l=+$(".road").attr("data-zfact");return TweenMax.to(o,.3,{left:"+="+e.deltaY*d+"%"}),TweenMax.to($(".cross"),.3,{left:"+="+e.deltaY*d/i+"%"}),TweenMax.to($(".road"),.3,{left:"+="+e.deltaY*d/l+"%"}),!1});var e,t,o,a=(new Draggabilly(".dragon",{axis:"x"}).on("dragStart",function(t){e=t.clientX}).on("dragEnd",function(a){t=a.clientX;var n=e-t,r=$(".dragon");try{o.kill()}catch(a){}o=TweenMax.to(r,1,{left:"-="+n/2,onComplete:function(){$(window).trigger("mousewheel")}})}),$("#tpl").clone().removeAttr("id")),n=$(".dragon"),r=["house-home","house-happiness","house-equality","house-plurality"];a.removeClass(r[0]);for(var d=0;200>d;d++){var i=Math.floor(Math.random()*+new Date%r.length),l=r[i],h=document.createElement("section");h=$(h).addClass("page house");var s=a.clone();$(".number",s).html(d+1),s.addClass(l),h.append(s),h.appendTo(n)}}});